/* ==========================================
   1. MAIN CONTAINER & BOX
   ========================================== */
.feature {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100vh;
  padding: 2vh;
}

.feature-box {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-items: center;
  align-items: center;
  row-gap: 2vh;
}

/* ==========================================
   2. HEADING SECTION
   ========================================== */
.feature-box-heading {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  gap: 1vh;
  padding-top: 3vh;
  padding-bottom: 4vh;
}

.feature-box-heading-medium {
  font-size: var(--font-size-16);
  font-weight: var(--font-weight-semibold);
  color: var(--primary-color);
}

.feature-box-heading-regular {
  font-size: var(--font-size-24);
  font-weight: var(--font-weight-medium);
  background-image: linear-gradient(135deg, #14181f 37%, #00889a 92%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display: inline-block;
  line-height: 1.4;
}

/* ==========================================
   3. CAROUSEL NAVIGATION (Side Icons)
   ========================================== */
.carousel-container {
  position: relative;
  width: 90%;
  height: 90%;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 30px;
  overflow: hidden;
  padding-bottom: 3vh;
}

.carousel-nav {
  width: 10%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: end;
  gap: 18px;
  position: relative;
  z-index: 10;
}

.nav-item {
  position: relative;
  width: 50px;
  height: 50px;
  border-radius: 30%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.2em;
  font-weight: bold;
  color: white;
  cursor: pointer;
  transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
  transform: translateX(0);
  background: var(--bg-color); 
  overflow: hidden;
  z-index: 10;
}

.nav-item svg {
  width: 1.3rem;
  height: 1.3rem;
}

.nav-item:hover,
.nav-item.active {
  transform: scale(1.20);
  transition: all 0.9s ease;
  z-index: 30;
  opacity: 1;
  border-bottom-right-radius: 0;
}

/* Special corner logic for the first item */
.nav-item.appointment.active {
  border-bottom-right-radius: 30%;
  border-top-right-radius: 0;
}

.nav-item:not(.active) {
  opacity: 1; /* Keeping it solid white as per your preference */
  transform: scale(0.95) translateX(0%);
}

/* The "Wing" Effect */
.nav-item.active::after,
.nav-item:hover::after {
  content: '';
  position: absolute;
  left: 90%; 
  top: 50%;
  width: 120px; 
  height: 60px;
  background: inherit; 
  border-radius: 0 30px 30px 0;
  transform: translateY(-50%);
  transition: all 0.7s ease;
  z-index: -1;
  clip-path: polygon(0% 0%, 100% 20%, 100% 80%, 0% 100%); 
}

/* ==========================================
   4. CAROUSEL SLIDES & CARDS
   ========================================== */
.carousel-content {
  position: relative;
  display: flex;
  width: 90%;
  height: 100%;
  justify-content: center;
  align-items: center;
}

.slide {
  position: absolute;
  display: flex;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 0.8s ease;
  pointer-events: none;
}

.slide.active {
  opacity: 1;
  pointer-events: auto;
  z-index: 1;
}

.carousel-photo {
  flex: 1;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  background: var(--bg-color);
  border-radius: 40px 0 0 40px;
  padding: 30px;
  height: 100%;
  overflow: hidden;
}

.card-stack {
  position: relative;
  width: 85%;
  height: 85%;
  perspective: 1000px;
}

.card {
  position: absolute;
  inset: 0;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 15px 40px rgba(0,0,0,0.15);
  background: var(--secondary-color);
  z-index: var(--z);
  opacity: 1 !important; /* Forces solid color */
  
  /* Dynamic Transform Logic */
  --x: calc(var(--offset) * 20px);
  --y: calc(var(--offset) * 20px);
  --scale: calc(1 - (0.05 * abs(var(--offset))));
  --rotate: calc(var(--offset) * 2.5deg);

  transform: translate(var(--x), var(--y)) scale(var(--scale)) rotate(var(--rotate));
  transition: transform 0.7s ease, opacity 0.7s ease, background 0.5s ease;
}

.card-img {
  object-fit: contain;
  padding: 15px;
  width: 100%;
  height: 100%;
}

.card.active {
  transform: scale(1) rotate(0deg) translateY(0);
  z-index: 999;
}

.card.peek {
  background: var(--peek-color);
  z-index: 1;
  transform: translate(35px, 40px) scale(0.9) rotate(2.5deg);
  opacity: 0.85;
}

/* ==========================================
   5. INFO CONTENT (Right Side)
   ========================================== */
.carousel-info {
  width: 50%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 40px 60px 40px 40px;
}

.hook { 
  font-size: 1.4rem; 
  font-weight: 500; 
  color: #666; 
  margin-bottom: 12px; 
}

.header { 
  font-size: 2.6rem; 
  font-weight: bold; 
  color: #222; 
  margin-bottom: 20px; 
  opacity: 0; 
  transform: translateY(60px); 
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1); 
}

.slide.active .header { 
  opacity: 1; 
  transform: translateY(0); 
}

.main-info { 
  font-size: 1.2rem; 
  color: #555; 
  line-height: 1.7; 
}